<html>
<head>  
        <meta charset="utf-8">  
        <title>Chord</title>  
  </head> 

<style>

a {color: #000000;TEXT-DECORATION: none}
a:active {background: #AFC1DC}
.DownButtonNormal{
	height: 18px;
	line-height: 18px;
	padding: 0 11px;
	background: #FFFFFF;
	border: 1px #D9D9D9 solid;
	border-radius: 3px;
	display: inline-block;
	font-size: 12px;
	outline: none;
}
</style>
    <body>  
		<script src="../lib/jquery.js"></script>
		<script src="../lib/d3.js"></script>
<!-- 		<script src="label.js"></script> -->
		<script src="../lib/NGCircos.js"></script>
		
<!-- 	Download button for png -->
		<div class="svg-box img-container">
			<button class="svg-action-btn download-img">Download png ↓</button>
			<a href="javascript:(function () { var e = document.createElement('script');if (window.location.protocol === 'https:') { e.setAttribute('src', './../lib/svg-crowbar.js'); } else { e.setAttribute('src', './../lib/svg-crowbar.js'); } e.setAttribute('class', 'svg-crowbar'); document.body.appendChild(e); })();" class="DownButtonNormal" >Download svg ↓</a>
		</div>  
		
		<div id="NGCircos"></div>
		<script>

		var NGCircosGenome = [
		[
			["C.CK",189.51],
			["C.NPK",188],
			["GC.CK",186.11],
			["GC.NPK",191.51],
			["Alphaproteobacteria",70.16],
			["Betaproteobacteria",23.51],
			["Gammaproteobacteria",25.51],
			["Deltaproteobacteria",23.28],
			["Acidobacteria",53.62],
			["Actinobacteria",72.33],
			["Bacteroidetes",22.41],
			["Chloroflexi",15.08],
			["Firmicutes",10.72],
			["Gemmatimonadetes",26.37],
			["Planctomycetes",19.26],
			["Thaumarchaeota",6.15],
			["Verrucomicrobia",8.3],
			["Ascomycota",159.41],
			["Basidiomycota",79.73],
			["Zygomycota",139.29],
		]
		];
		
		var CHORD1 = [ "CHORD1" , {
			CHORDinnerRadius: 237,
			CHORDouterRadius: 238,
			CHORDFillOpacity:0.67,
			CHORDStrokeColor: "black",
			CHORDStrokeWidth: "1px",
			CHORDPadding:0.06,
			CHORDAutoFillColor: true,
//			CHORDFillColor:["white","#58B2DC","#FF7F0F","white","white","#FF7F0F","#CA4949","#FF7F0F","white","#CA4949","#FF7F0F","white","white","white","#FF7F0F","#FF7F0F","#FF7F0F","#FF7F0F","white","white","#58B2DC","white"],
//			CHORDFillStrokeColor:["white","white","white","white","white","white","white","white","white","white","white","white","white","white","white","white","white","white","white","white","white","white"],
			CHORDouterARC:true,
			CHORDouterARCAutoColor:true,
//			CHORDouterARCColor:["white","#58B2DC","#58B2DC","#58B2DC","#EF6746","#EF6746","#EF6746","#EF6746","white","#EF6746","#EF6746","#EF6746","#EF6746","white","#EF6746","#EF6746","#EF6746","#EF6746","#EF6746","#58B2DC","#58B2DC","white"],
//			CHORDouterARCStrokeColor:["white","#58B2DC","#58B2DC","#58B2DC","#EF6746","#EF6746","#EF6746","#EF6746","white","#EF6746","#EF6746","#EF6746","#EF6746","white","#EF6746","#EF6746","#EF6746","#EF6746","#EF6746","#58B2DC","#58B2DC","white"],
			CHORDouterARCText:false,
			} , [
			[ "C.CK" , "C.NPK" , "GC.CK" , "GC.NPK" , "Alphaproteobacteria"  , "Betaproteobacteria" , "Gammaproteobacteria" , "Deltaproteobacteria" , "Acidobacteria"  , "Actinobacteria" , "Bacteroidetes" , "Chloroflexi" , "Firmicutes"  , "Gemmatimonadetes" , "Planctomycetes" , "Thaumarchaeota" , "Verrucomicrobia"  , "Ascomycota" , "Basidiomycota" , "Zygomycota" ],
			[[0, 0, 0, 0, 18.01, 5.72, 5.74, 6.55, 13.38, 20.04, 5.01, 3.63, 2.37, 6.34, 4.35, 1.51, 1.9, 51.72, 24.75, 18.49], [0, 0, 0, 0, 16.12, 5.75, 5.85, 5.67, 16.88, 15.95, 5.24, 3.74, 2.34, 6.97, 6.15, 1.21, 2.37, 40.28, 24.18, 29.3], [0, 0, 0, 0, 16.16, 6.51, 7.82, 5.13, 13.29, 13.11, 7.32, 4.81, 1.52, 7.92, 4.95, 1.52, 2.57, 33.85, 17.93, 41.7], [0, 0, 0, 0, 19.87, 5.53, 6.1, 5.93, 10.07, 23.23, 4.84, 2.9, 4.49, 5.14, 3.81, 1.91, 1.46, 33.56, 12.87, 49.8], [18.01, 16.12, 16.16, 19.87, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [5.72, 5.75, 6.51, 5.53, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [5.74, 5.85, 7.82, 6.1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [6.55, 5.67, 5.13, 5.93, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [13.38, 16.88, 13.29, 10.07, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [20.04, 15.95, 13.11, 23.23, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [5.01, 5.24, 7.32, 4.84, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [3.63, 3.74, 4.81, 2.9, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [2.37, 2.34, 1.52, 4.49, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [6.34, 6.97, 7.92, 5.14, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [4.35, 6.15, 4.95, 3.81, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1.51, 1.21, 1.52, 1.91, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1.9, 2.37, 2.57, 1.46, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [51.72, 40.28, 33.85, 33.56, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [24.75, 24.18, 17.93, 12.87, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [18.49, 29.3, 41.7, 49.8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]]
		]];
		
		var LEGEND1 = [ "LEGEND1" , {
			x: 300,
			y: -230,
			title: " ",
			titleSize: 16,
			titleWeight: "bold",
			GapBetweenGraphicText:5,
			GapBetweenLines:20
			} , [
				{type: "circle", color:"#1E77B4",opacity:"1.0",circleSize:"8",text: "C.CK", textSize: "14",textWeight:"normal"},
				{type: "circle", color:"#AEC7E8",opacity:"1.0",circleSize:"8",text: "C.NPK", textSize: "14",textWeight:"normal"},
				{type: "circle", color:"#FF7F0B",opacity:"1.0",circleSize:"8",text: "GC.CK", textSize: "14",textWeight:"normal"},
				{type: "circle", color:"#FFBB78",opacity:"1.0",circleSize:"8",text: "GC.NPK", textSize: "14",textWeight:"normal"},
				{type: "circle", color:"#2AA02B",opacity:"1.0",circleSize:"8",text: "Alphaproteobacteria", textSize: "14",textWeight:"normal"},
				{type: "circle", color:"#98DF8A",opacity:"1.0",circleSize:"8",text: "Betaproteobacteria", textSize: "14",textWeight:"normal"},
				{type: "circle", color:"#D62628",opacity:"1.0",circleSize:"8",text: "Gammaproteobacteria", textSize: "14",textWeight:"normal"},
				{type: "circle", color:"#FF9896",opacity:"1.0",circleSize:"8",text: "Deltaproteobacteria", textSize: "14",textWeight:"normal"},
				{type: "circle", color:"#9467BD",opacity:"1.0",circleSize:"8",text: "Acidobacteria", textSize: "14",textWeight:"normal"},
				{type: "circle", color:"#C5B0D5",opacity:"1.0",circleSize:"8",text: "Actinobacteria", textSize: "14",textWeight:"normal"},
				{type: "circle", color:"#8C564C",opacity:"1.0",circleSize:"8",text: "Bacteroidetes", textSize: "14",textWeight:"normal"},
				{type: "circle", color:"#C49C94",opacity:"1.0",circleSize:"8",text: "Chloroflexi", textSize: "14",textWeight:"normal"},
				{type: "circle", color:"#E377C2",opacity:"1.0",circleSize:"8",text: "Firmicutes", textSize: "14",textWeight:"normal"},
				{type: "circle", color:"#F7B6D2",opacity:"1.0",circleSize:"8",text: "Gemmatimonadetes", textSize: "14",textWeight:"normal"},
				{type: "circle", color:"#7F7F7F",opacity:"1.0",circleSize:"8",text: "Planctomycetes", textSize: "14",textWeight:"normal"},
				{type: "circle", color:"#C7C7C7",opacity:"1.0",circleSize:"8",text: "Thaumarchaeota", textSize: "14",textWeight:"normal"},
				{type: "circle", color:"#BCBC22",opacity:"1.0",circleSize:"8",text: "Verrucomicrobia", textSize: "14",textWeight:"normal"},
				{type: "circle", color:"#DADB8D",opacity:"1.0",circleSize:"8",text: "Ascomycota", textSize: "14",textWeight:"normal"},
				{type: "circle", color:"#19BDCF",opacity:"1.0",circleSize:"8",text: "Basidiomycota", textSize: "14",textWeight:"normal"},
				{type: "circle", color:"#9ED9E5",opacity:"1.0",circleSize:"8",text: "Zygomycota", textSize: "14",textWeight:"normal"},
			]];

			
		NGCircos1 = new NGCircos(CHORD1,LEGEND1,NGCircosGenome,{
			target:"NGCircos",
			svgWidth:900,
			svgHeight:600,
			svgClassName:"chord",
			chrPad:0.06,
			innerRadius:255,
			outerRadius:262,
			zoom:true,
			compareEvent:false,
			combinationEvent:false,
			genomeFillColor:["#1E77B4","#AEC7E8","#FF7F0B","#FFBB78","#2AA02B","#98DF8A","#D62628","#FF9896","#9467BD","#C5B0D5","#8C564C","#C49C94","#E377C2","#F7B6D2","#7F7F7F","#C7C7C7","#BCBC22","#DADB8D","#19BDCF","#9ED9E5"],
			ticks:{
			display:false,
			len:5,
			color:"#000",
			textSize:8,
			textColor:"#000",
			scale:50,
			realLength:true,
			},
			genomeLabel:{
			display:false,
			textSize:15,
			textColor:"#000",
			dx:0.028,
			dy:"-0.55em",
			},
			genomeBorder:{
			display:false,
			borderColor:"white",
			borderSize:0.5,
			},
			TEXTModuleDragEvent:false,
			CHORDMouseEvent : true,
			CHORDMouseFillColorExcluded:"white",
			CHORDMouseClickDisplay : false,
			CHORDMouseClickOpacity : 1.0,
			CHORDMouseClickStrokeColor : "green",
			CHORDMouseClickStrokeWidth : 4,
			CHORDMouseDownDisplay : false,
			CHORDMouseDownOpacity : 1.0,
			CHORDMouseDownStrokeColor : "#F26223",
			CHORDMouseDownStrokeWidth : 4,
			CHORDMouseEnterDisplay : false,
			CHORDMouseEnterOpacity : 1.0,
			CHORDMouseEnterStrokeColor : "#F26223",
			CHORDMouseEnterStrokeWidth : 4,
			CHORDMouseLeaveDisplay : false,
			CHORDMouseLeaveOpacity : 1.0,
			CHORDMouseLeaveStrokeColor : "#F26223",
			CHORDMouseLeaveStrokeWidth : 4,
			CHORDMouseMoveDisplay : false,
			CHORDMouseMoveOpacity : 1.0,
			CHORDMouseMoveStrokeColor : "#F26223",
			CHORDMouseMoveStrokeWidth : 4,
			CHORDMouseOutDisplay : true,
			CHORDMouseOutAnimationTime : 500,
			CHORDMouseOutOpacity : 0.67,
			CHORDMouseOutStrokeColor : "none",
			CHORDMouseOutStrokeWidth : 0,
			CHORDMouseUpDisplay : false,
			CHORDMouseUpOpacity : 1.0,
			CHORDMouseUpStrokeColor : "#F26223",
			CHORDMouseUpStrokeWidth : 4,
			CHORDMouseOverDisplay : true,
			CHORDMouseOverOpacity : 0.8,
			CHORDMouseOverStrokeColor : "#F26223",
			CHORDMouseOverStrokeWidth : 3,
			CHORDMouseOverTooltipsHtml01 : "CHORD : ",
			CHORDMouseOverTooltipsHtml02 : "",
			CHORDMouseOverTooltipsPosition : "absolute",
			CHORDMouseOverTooltipsBackgroundColor : "white",
			CHORDMouseOverTooltipsBorderStyle : "solid",
			CHORDMouseOverTooltipsBorderWidth : 0,
			CHORDMouseOverTooltipsPadding : "3px",
			CHORDMouseOverTooltipsBorderRadius : "3px",
			CHORDMouseOverTooltipsOpacity : 0.8,
			
			});

	
		NGCircos1.draw_genome(NGCircos1.genomeLength);
		NGCircos1.draw_genome(NGCircos1.genomeLength2);
		

		</script>
		<script src=../lib/saveSvgAsPng.js></script>
		<script>
						
			(function(){
				var downloadImg = getEle(".download-img"),
					imgName = getEle("."+NGCircos1.svgClassName);
				
				//					imgScale = getEle(".img-scale");

				downloadImg.addEventListener("click",function(){
					var mySvg = getEle("."+NGCircos1.svgClassName),
						//iImgScale = parseInt(imgScale.value) || 1,
						oImgName = imgName.value || NGCircos1.svgClassName;
						
//					saveSvgAsPng(mySvg, oImgName+".png", iImgScale);
					saveSvgAsPng(mySvg, oImgName+".png");

				})

				function getEle(obj){
					var d = document;
					return d.querySelector(obj);
				}
			})()
		</script>
    </body>  
</html>  
